import{d as z,f as u,y as H,p as N,c as d,g as j,o as m,a as e,t as l,n as I,e as f,F as S,s as L,h as D,v as M,D as P,i as b,b as V,w as T,r as q,l as R}from"./index-D7c87ijx-1759255566792.js";const J={key:0,class:"bg-white shadow overflow-hidden sm:rounded-lg"},Y={class:"px-4 py-5 sm:px-6 border-b border-gray-200"},O={class:"flex justify-between items-center"},Q={class:"text-lg leading-6 font-medium text-gray-900"},W={class:"mt-1 max-w-2xl text-sm text-gray-500"},X={class:"flex items-center space-x-3"},Z={class:"px-4 py-5 sm:p-6"},ee={class:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2"},te={class:"mt-1 text-sm text-gray-900"},se={class:"mt-1 text-sm text-gray-900"},oe={class:"mt-1 text-sm text-gray-900 font-mono text-xs"},re={class:"mt-1 text-sm text-gray-900"},le={class:"border-t border-gray-200"},ie={class:"px-4 py-5 sm:p-6"},ne={class:"flex justify-between items-center mb-4"},ae={key:0,class:"text-center py-8"},de={key:1,class:"space-y-3"},me={class:"flex justify-between items-start"},ue={class:"flex-1 min-w-0"},ce={class:"flex items-center space-x-2 mb-2"},ve={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},xe={class:"text-xs text-gray-500"},pe={class:"mb-2"},ye={class:"flex items-center space-x-2"},ge={class:"block text-sm font-mono bg-white px-2 py-1 border border-gray-200 rounded flex-1 truncate"},fe=["onClick"],be={class:"text-xs text-gray-500"},we=["onClick"],he={key:0,class:"fixed inset-0 z-10 overflow-y-auto"},ke={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ce={class:"fixed inset-0 transition-opacity","aria-hidden":"true"},_e={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},$e={class:"space-y-4"},je={class:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense"},De=["disabled"],Me={key:1,class:"fixed inset-0 z-10 overflow-y-auto"},Ke={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Be={class:"fixed inset-0 transition-opacity","aria-hidden":"true"},Fe={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},He={class:"sm:flex sm:items-start"},Ve={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},ze={class:"mt-2"},Ne={class:"text-sm text-gray-500"},Ie={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},Se=["disabled"],Le={key:2,class:"fixed inset-0 z-10 overflow-y-auto"},Ae={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ue={class:"fixed inset-0 transition-opacity","aria-hidden":"true"},Ge={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},Ee={class:"mt-3 text-center sm:mt-5"},Pe={class:"mt-4 text-left"},Te={class:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense"},qe=["disabled"],Re=z({__name:"CircleManagement",props:{circleId:{}},emits:["deleted","updated"],setup(K,{emit:x}){const v=K,k=x,o=u(null),p=u(!1),c=u(!1),g=u(!1),C=u(!1),_=u(!1),$=u(!1),y=u({name:"",description:"",status:"inactive"}),w=u({customKey:""}),n=H(()=>o.value?.participants?.filter(r=>r.role==="participant")||[]),s=H(()=>n.value.length),h=async()=>{try{const r=await b.getCircle(v.circleId);o.value=r,y.value={name:r.name,description:r.description,status:r.status}}catch(r){console.error("Failed to load circle:",r)}},a=async()=>{if(o.value)try{C.value=!0;const r=w.value.customKey.trim()?{custom_key:w.value.customKey.trim()}:{};await b.generateParticipantKey(o.value.id,r),w.value.customKey="",g.value=!1,await h()}catch(r){console.error("Failed to generate key:",r),alert("Failed to generate new participant key: "+(r.response?.data?.error||r.message))}finally{C.value=!1}},B=async r=>{if(o.value&&confirm("Are you sure you want to remove this participant key?"))try{await b.removeParticipantKey(o.value.id,r.key_id),await h()}catch(t){console.error("Failed to remove key:",t),alert("Failed to remove participant key")}},A=async()=>{if(o.value)try{_.value=!0;const r=await b.updateCircle(o.value.id,y.value);o.value={...o.value,...r},p.value=!1,k("updated",o.value)}catch(r){console.error("Failed to update circle:",r),alert("Failed to update circle")}finally{_.value=!1}},U=async()=>{if(o.value)try{$.value=!0,await b.deleteCircle(o.value.id),c.value=!1,k("deleted")}catch(r){console.error("Failed to delete circle:",r),alert("Failed to delete circle")}finally{$.value=!1}},G=async r=>{try{await navigator.clipboard.writeText(r)}catch(t){console.error("Failed to copy to clipboard:",t)}},F=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return N(()=>{h()}),(r,t)=>o.value?(m(),d("div",J,[e("div",Y,[e("div",O,[e("div",null,[e("h3",Q,l(o.value.name),1),e("p",W,l(o.value.description),1)]),e("div",X,[e("span",{class:I([{"bg-green-100 text-green-800":o.value.status==="active","bg-yellow-100 text-yellow-800":o.value.status==="inactive","bg-gray-100 text-gray-800":o.value.status==="ended"},"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},l(o.value.status),3),e("button",{onClick:t[0]||(t[0]=i=>p.value=!0),class:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},[...t[13]||(t[13]=[e("svg",{class:"-ml-1 mr-1.5 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),f(" Edit ",-1)])]),e("button",{onClick:t[1]||(t[1]=i=>c.value=!0),class:"inline-flex items-center px-3 py-1.5 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50"},[...t[14]||(t[14]=[e("svg",{class:"-ml-1 mr-1.5 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),f(" Delete ",-1)])])])])]),e("div",Z,[e("dl",ee,[e("div",null,[t[15]||(t[15]=e("dt",{class:"text-sm font-medium text-gray-500"},"Circle ID",-1)),e("dd",te,l(o.value.id),1)]),e("div",null,[t[16]||(t[16]=e("dt",{class:"text-sm font-medium text-gray-500"},"Created",-1)),e("dd",se,l(F(o.value.created_at)),1)]),e("div",null,[t[17]||(t[17]=e("dt",{class:"text-sm font-medium text-gray-500"},"Jitsi Room ID",-1)),e("dd",oe,l(o.value.jitsi_room_id),1)]),e("div",null,[t[18]||(t[18]=e("dt",{class:"text-sm font-medium text-gray-500"},"Participants",-1)),e("dd",re,l(s.value)+" active keys",1)])])]),e("div",le,[e("div",ie,[e("div",ne,[t[20]||(t[20]=e("h4",{class:"text-lg font-medium text-gray-900"},"Participant Access Keys",-1)),e("button",{onClick:t[2]||(t[2]=i=>g.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700"},[...t[19]||(t[19]=[e("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),f(" Generate New Key ",-1)])])]),n.value.length===0?(m(),d("div",ae,[...t[21]||(t[21]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v-2H7v-2H4a1 1 0 01-1-1v-4a1 1 0 011-1h3V7a6 6 0 016-6z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No participant keys",-1),e("p",{class:"mt-1 text-sm text-gray-500"}," Generate access keys for participants to join this circle. ",-1)])])):(m(),d("div",de,[(m(!0),d(S,null,L(n.value,i=>(m(),d("div",{key:i.key_id,class:"bg-gray-50 rounded-lg p-4 border border-gray-200"},[e("div",me,[e("div",ue,[e("div",ce,[e("span",ve,l(i.role),1),e("span",xe," ID: "+l(i.key_id),1)]),e("div",pe,[t[23]||(t[23]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Access Key",-1)),e("div",ye,[e("code",ge,l(i.access_key),1),e("button",{onClick:E=>G(i.access_key),class:"inline-flex items-center px-2 py-1 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50"},[...t[22]||(t[22]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)])],8,fe)])]),e("p",be," Created "+l(F(i.created_at)),1)]),e("button",{onClick:E=>B(i),class:"ml-4 inline-flex items-center px-2 py-1 border border-red-300 shadow-sm text-xs font-medium rounded text-red-700 bg-white hover:bg-red-50"},[...t[24]||(t[24]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,we)])]))),128))]))])]),p.value?(m(),d("div",he,[e("div",ke,[e("div",Ce,[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75",onClick:t[3]||(t[3]=i=>p.value=!1)})]),e("div",_e,[e("div",null,[t[29]||(t[29]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"},"Edit Circle",-1)),e("div",$e,[e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),D(e("input",{"onUpdate:modelValue":t[4]||(t[4]=i=>y.value.name=i),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[M,y.value.name]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),D(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=i=>y.value.description=i),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[M,y.value.description]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),D(e("select",{"onUpdate:modelValue":t[6]||(t[6]=i=>y.value.status=i),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},[...t[27]||(t[27]=[e("option",{value:"inactive"},"Inactive",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"ended"},"Ended",-1)])],512),[[P,y.value.status]])])])]),e("div",je,[e("button",{onClick:A,disabled:_.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 disabled:opacity-50 sm:col-start-2 sm:text-sm"},l(_.value?"Saving...":"Save Changes"),9,De),e("button",{onClick:t[7]||(t[7]=i=>p.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:col-start-1 sm:text-sm"}," Cancel ")])])])])):j("",!0),c.value?(m(),d("div",Me,[e("div",Ke,[e("div",Be,[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75",onClick:t[8]||(t[8]=i=>c.value=!1)})]),e("div",Fe,[e("div",He,[t[31]||(t[31]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Ve,[t[30]||(t[30]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Delete Circle",-1)),e("div",ze,[e("p",Ne,' Are you sure you want to delete "'+l(o.value?.name)+'"? This action cannot be undone and will remove all participant keys and associated data. ',1)])])]),e("div",Ie,[e("button",{onClick:U,disabled:$.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 disabled:opacity-50 sm:ml-3 sm:w-auto sm:text-sm"},l($.value?"Deleting...":"Delete Circle"),9,Se),e("button",{onClick:t[9]||(t[9]=i=>c.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm"}," Cancel ")])])])])):j("",!0),g.value?(m(),d("div",Le,[e("div",Ae,[e("div",Ue,[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75",onClick:t[10]||(t[10]=i=>g.value=!1)})]),e("div",Ge,[e("div",null,[t[35]||(t[35]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100"},[e("svg",{class:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v-2H7v-2H4a1 1 0 01-1-1v-4a1 1 0 011-1h3V7a6 6 0 016-6z"})])],-1)),e("div",Ee,[t[34]||(t[34]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Generate Participant Key",-1)),e("div",Pe,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Custom Access Key (optional) ",-1)),D(e("input",{"onUpdate:modelValue":t[11]||(t[11]=i=>w.value.customKey=i),type:"text",placeholder:"Leave empty for auto-generated key",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[M,w.value.customKey]]),t[33]||(t[33]=e("p",{class:"mt-2 text-xs text-gray-500"},' Enter your own key (e.g., "student-alice", "workshop-participant-1") or leave empty to auto-generate one. ',-1))])])]),e("div",Te,[e("button",{onClick:a,disabled:C.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 disabled:opacity-50 sm:col-start-2 sm:text-sm"},l(C.value?"Generating...":"Generate Key"),9,qe),e("button",{onClick:t[12]||(t[12]=i=>g.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:col-start-1 sm:text-sm"}," Cancel ")])])])])):j("",!0)])):j("",!0)}}),Je={class:"min-h-screen bg-gray-50"},Ye={class:"bg-white border-b border-gray-200"},Oe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Qe={class:"py-6"},We={class:"flex items-center justify-between"},Xe={class:"flex items-center"},Ze={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},et={class:"space-y-6"},tt={class:"bg-white shadow overflow-hidden sm:rounded-lg"},st={key:0,class:"p-6 text-center"},ot={key:1,class:"p-6 text-center"},rt={class:"mt-6"},lt={key:2,class:"divide-y divide-gray-200"},it=["onClick"],nt={class:"flex items-center justify-between"},at={class:"flex-1 min-w-0"},dt={class:"flex items-center space-x-3"},mt={class:"text-lg font-medium text-gray-900"},ut={class:"mt-1 text-sm text-gray-500"},ct={class:"mt-2 flex items-center text-sm text-gray-500 space-x-6"},vt={class:"flex items-center"},xt={class:"flex items-center"},pt={class:"flex items-center"},yt={class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4"},gt={class:"text-xs text-yellow-700 mt-1"},ft={key:0},bt={key:0,class:"fixed inset-0 z-10 overflow-y-auto"},wt={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ht={class:"fixed inset-0 transition-opacity","aria-hidden":"true"},kt={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},Ct={class:"space-y-4"},_t={class:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense"},$t=["disabled"],Dt=z({__name:"CircleManagerDemo",setup(K){const x=u([]),v=u(null),k=u(!1),o=u(!1),p=u(!1),c=u({name:"",description:""}),g=async()=>{try{k.value=!0;const n=await b.getCircles();x.value=n.circles}catch(n){console.error("Failed to load circles:",n)}finally{k.value=!1}},C=n=>{console.log("Selecting circle:",n,"Current selected:",v.value),v.value=v.value===n?null:n,console.log("New selected circle ID:",v.value)},_=async()=>{if(c.value.name.trim())try{p.value=!0;const n=await b.createCircle(c.value);x.value.push(n),c.value={name:"",description:""},o.value=!1,v.value=n.id}catch(n){console.error("Failed to create circle:",n),alert("Failed to create circle")}finally{p.value=!1}},$=()=>{v.value=null,g()},y=n=>{const s=x.value.findIndex(h=>h.id===n.id);s!==-1&&(x.value[s]={...x.value[s],...n})},w=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return N(()=>{g()}),(n,s)=>{const h=q("router-link");return m(),d("div",Je,[e("div",Ye,[e("div",Oe,[e("div",Qe,[e("div",We,[e("div",Xe,[V(h,{to:"/",class:"mr-4 p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100"},{default:T(()=>[...s[6]||(s[6]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1}),s[7]||(s[7]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Circle Management Demo"),e("p",{class:"text-sm text-gray-500 mt-1"},"Complete circle lifecycle management with participant key controls")],-1))]),e("button",{onClick:s[0]||(s[0]=a=>o.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700"},[...s[8]||(s[8]=[e("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),f(" Create Circle ",-1)])])])])])]),e("div",Ze,[e("div",et,[e("div",tt,[s[18]||(s[18]=e("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200"},[e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Your Circles"),e("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Manage circles, participant keys, and access controls ")],-1)),k.value?(m(),d("div",st,[...s[9]||(s[9]=[e("div",{class:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"},null,-1),e("span",{class:"ml-2 text-sm text-gray-500"},"Loading circles...",-1)])])):x.value.length===0?(m(),d("div",ot,[s[11]||(s[11]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s[12]||(s[12]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No circles yet",-1)),s[13]||(s[13]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by creating your first inquiry circle.",-1)),e("div",rt,[e("button",{onClick:s[1]||(s[1]=a=>o.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700"},[...s[10]||(s[10]=[e("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),f(" Create Circle ",-1)])])])])):(m(),d("div",lt,[(m(!0),d(S,null,L(x.value,a=>(m(),d("div",{key:a.id,class:"p-6 hover:bg-gray-50 cursor-pointer",onClick:B=>C(a.id)},[e("div",nt,[e("div",at,[e("div",dt,[e("h4",mt,l(a.name),1),e("span",{class:I([{"bg-green-100 text-green-800":a.status==="active","bg-yellow-100 text-yellow-800":a.status==="inactive","bg-gray-100 text-gray-800":a.status==="ended"},"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},l(a.status),3)]),e("p",ut,l(a.description),1),e("div",ct,[e("div",vt,[s[14]||(s[14]=e("svg",{class:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),f(" ID: "+l(a.id),1)]),e("div",xt,[s[15]||(s[15]=e("svg",{class:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),f(" "+l(w(a.created_at)),1)]),e("div",pt,[s[16]||(s[16]=e("svg",{class:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v-2H7v-2H4a1 1 0 01-1-1v-4a1 1 0 011-1h3V7a6 6 0 016-6z"})],-1)),f(" Room: "+l(a.jitsi_room_id),1)])])]),s[17]||(s[17]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])],8,it))),128))]))]),e("div",yt,[s[19]||(s[19]=e("h4",{class:"text-sm font-medium text-yellow-800"},"Debug Info",-1)),e("p",gt," Selected Circle ID: "+l(v.value||"None")+" | Circles Count: "+l(x.value.length)+" | Auth Key: "+l(R(b).getAccessKey()||"Not authenticated"),1)]),v.value?(m(),d("div",ft,[V(Re,{circleId:v.value,onDeleted:$,onUpdated:y},null,8,["circleId"])])):j("",!0)])]),o.value?(m(),d("div",bt,[e("div",wt,[e("div",ht,[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75",onClick:s[2]||(s[2]=a=>o.value=!1)})]),e("div",kt,[e("div",null,[s[22]||(s[22]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"},"Create New Circle",-1)),e("div",Ct,[e("div",null,[s[20]||(s[20]=e("label",{class:"block text-sm font-medium text-gray-700"},"Circle Name *",-1)),D(e("input",{"onUpdate:modelValue":s[3]||(s[3]=a=>c.value.name=a),type:"text",placeholder:"e.g., Morning Inquiry Circle",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[M,c.value.name]])]),e("div",null,[s[21]||(s[21]=e("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),D(e("textarea",{"onUpdate:modelValue":s[4]||(s[4]=a=>c.value.description=a),rows:"3",placeholder:"Describe the purpose or focus of this circle...",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[M,c.value.description]])])])]),e("div",_t,[e("button",{onClick:_,disabled:p.value||!c.value.name.trim(),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 disabled:opacity-50 sm:col-start-2 sm:text-sm"},l(p.value?"Creating...":"Create Circle"),9,$t),e("button",{onClick:s[5]||(s[5]=a=>o.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:col-start-1 sm:text-sm"}," Cancel ")])])])])):j("",!0)])}}});export{Dt as default};
