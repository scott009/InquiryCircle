import{d as w,u as C,f as m,p as k,c as i,o as a,a as t,q as M,g as x,t as n,l,e as v,F as j,s as z,b as B,w as F,r as N,i as H,n as f,m as D}from"./index-ByWtgJEz-1758219306683.js";import{_ as S}from"./CreateCircleModal.vue_vue_type_script_setup_true_lang-BNKzwWdU-1758219306683.js";const V={class:"min-h-screen bg-gray-50"},$={class:"bg-white border-b border-gray-200"},A={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},L={class:"py-6"},q={class:"md:flex md:items-center md:justify-between"},I={class:"flex-1 min-w-0"},J={class:"text-2xl font-bold leading-7 text-gray-900 sm:truncate"},E={class:"mt-1 text-sm text-gray-500"},G={key:0,class:"mt-4 md:mt-0 md:ml-4"},R={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},T={class:"bg-white shadow overflow-hidden sm:rounded-md"},U={key:0,class:"px-4 py-5 sm:p-6"},K={key:1,class:"divide-y divide-gray-200"},O={class:"flex items-center justify-between"},P={class:"flex items-center"},Q={class:"ml-4"},W={class:"text-sm font-medium text-gray-900"},X={class:"text-sm text-gray-500"},Y={class:"text-xs text-gray-400 mt-1"},Z={class:"flex items-center space-x-2"},tt=["onClick","disabled"],et={key:2,class:"px-4 py-5 sm:p-6 text-center"},st={class:"mt-1 text-sm text-gray-500"},ot={key:0,class:"mt-6"},lt=w({__name:"CirclesList",setup(at){const p=D(),r=C(),d=m([]),u=m(!0),c=m(!1),g=async()=>{u.value=!0;try{const o=await H.getCircles();d.value=o.circles}catch(o){console.error("Failed to load circles:",o)}finally{u.value=!1}},h=o=>{o.status==="active"&&p.push(`/circle/${o.id}`)},y=o=>{d.value.unshift(o),c.value=!1},_=o=>new Date(o).toLocaleDateString();return k(()=>{g()}),(o,e)=>{const b=N("router-link");return a(),i("div",V,[t("div",$,[t("div",A,[t("div",L,[t("div",q,[t("div",I,[t("h1",J,n(l(r).isFacilitator?"Manage Circles":"My Circles"),1),t("p",E,n(l(r).isFacilitator?"Create and manage your InquiryCircles":"Join available circles and participate in discussions"),1)]),l(r).isFacilitator?(a(),i("div",G,[t("button",{onClick:e[0]||(e[0]=s=>c.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...e[2]||(e[2]=[t("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),v(" Create Circle ",-1)])])])):x("",!0)])])])]),t("div",R,[t("div",T,[e[8]||(e[8]=t("div",{class:"px-4 py-5 sm:px-6"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Available Circles "),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Circles you can join or are participating in ")],-1)),u.value?(a(),i("div",U,[...e[3]||(e[3]=[t("div",{class:"flex justify-center"},[t("svg",{class:"animate-spin h-6 w-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})])],-1)])])):d.value.length>0?(a(),i("ul",K,[(a(!0),i(j,null,z(d.value,s=>(a(),i("li",{key:s.id,class:"px-4 py-4 sm:px-6"},[t("div",O,[t("div",P,[e[4]||(e[4]=t("div",{class:"flex-shrink-0"},[t("div",{class:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center"},[t("svg",{class:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1)),t("div",Q,[t("div",W,n(s.name),1),t("div",X,n(s.description||"No description"),1),t("div",Y,[v(" Created "+n(_(s.created_at))+" â€¢ ",1),t("span",{class:f({"text-green-600":s.status==="active","text-yellow-600":s.status==="inactive","text-gray-600":s.status==="ended"})},n(s.status.charAt(0).toUpperCase()+s.status.slice(1)),3)])])]),t("div",Z,[t("button",{onClick:it=>h(s),class:f([{"bg-green-600 hover:bg-green-700 text-white":s.status==="active","bg-gray-300 text-gray-500 cursor-not-allowed":s.status!=="active"},"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"]),disabled:s.status!=="active"},n(s.status==="active"?"Join":"Inactive"),11,tt)])])]))),128))])):(a(),i("div",et,[e[6]||(e[6]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),e[7]||(e[7]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No circles available",-1)),t("p",st,n(l(r).isFacilitator?"No circles found. Create one from your dashboard.":"No circles available to join at the moment."),1),l(r).isFacilitator?(a(),i("div",ot,[B(b,{to:"/dashboard",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:F(()=>[...e[5]||(e[5]=[v(" Go to Dashboard ",-1)])]),_:1})])):x("",!0)]))])]),c.value?(a(),M(S,{key:0,onClose:e[1]||(e[1]=s=>c.value=!1),onCreated:y})):x("",!0)])}}});export{lt as default};
